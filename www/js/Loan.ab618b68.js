(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Loan"],{"0cc7":function(t,a,e){"use strict";e.r(a);var o,n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("page-head",{attrs:{titleKey:"loanTitle",fixed:!0}}),e("div",{staticClass:"loan-bg"},[e("b",[t._v(t._s(t.$formatMoney(t.leftQuota)))]),e("span",[t._v(t._s(t.$t("cn-271")))])]),e("div",{staticClass:"loan-form"},[e("van-cell-group",[e("van-field",{attrs:{type:"number",label:t.$t("cn-346"),placeholder:t.$t("cn-1037")},on:{blur:t.amountHandle},model:{value:t.loanAmount,callback:function(a){t.loanAmount=a},expression:"loanAmount"}}),e("van-cell",{attrs:{"is-link":"",title:t.$t("cn-274"),value:t.loanDay},on:{click:function(a){t.showSel=!0}}}),e("van-cell",{staticClass:"color-red",attrs:{"is-link":"",title:t.$t("cn-278"),value:t.carName},on:{click:function(a){t.showCar=!0}}})],1)],1),e("div",{staticClass:"loan-form"},[e("van-cell-group",[e("van-cell",{attrs:{title:t.$t("cn-275"),value:t.dueTime}}),e("van-cell",{attrs:{title:t.$t("cn-1038"),value:t.$formatMoney(t.leftAmount)}}),e("van-cell",{attrs:{title:t.$t("cn-277"),value:t.$formatMoney(t.fee)}})],1)],1),e("div",{staticClass:"loan-contract"},[e("van-checkbox",{attrs:{shape:"square"},model:{value:t.isReadContract,callback:function(a){t.isReadContract=a},expression:"isReadContract"}}),t._v(" "+t._s(t.$t("cn-305"))+" "),e("b",{on:{click:function(a){t.showContract(1,t.$t("cn-306"))}}},[t._v("《"+t._s(t.$t("cn-306"))+"》")])],1),e("van-button",{staticClass:"reg-submit",attrs:{type:"info",loading:t.isSubmit,"loading-text":t.$t("cn-1043")},on:{click:t.submitHandle}},[t._v(t._s(t.$t("cn-307")))]),e("van-popup",{style:{paddingTop:"40px",paddingBottom:"45px"},attrs:{position:"bottom",closeable:""},model:{value:t.showSel,callback:function(a){t.showSel=a},expression:"showSel"}},[e("van-radio-group",{model:{value:t.loanDay,callback:function(a){t.loanDay=a},expression:"loanDay"}},[e("van-cell-group",[e("van-cell",{attrs:{title:t.$t("cn-1053"),clickable:""},on:{click:function(a){t.loanDay=t.$t("cn-1053"),t.productCode="P001",t.showSel=!1}}},[e("van-radio",{attrs:{slot:"right-icon",name:t.$t("cn-1053")},slot:"right-icon"})],1),e("van-cell",{attrs:{title:t.$t("cn-1054"),clickable:""},on:{click:function(a){t.loanDay=t.$t("cn-1054"),t.productCode="P002",t.showSel=!1}}},[e("van-radio",{attrs:{slot:"right-icon",name:t.$t("cn-1054")},slot:"right-icon"})],1)],1)],1)],1),e("van-popup",{style:{paddingTop:"40px",paddingBottom:"45px"},attrs:{position:"bottom",closeable:""},model:{value:t.showCar,callback:function(a){t.showCar=a},expression:"showCar"}},[e("van-radio-group",{model:{value:t.carName,callback:function(a){t.carName=a},expression:"carName"}},[e("van-cell-group",t._l(t.bankCardList,(function(a,o){return e("van-cell",{key:o,attrs:{title:a.bankName+"-"+a.cardNo,clickable:""},on:{click:function(e){t.carName=a.bankName+"-"+a.cardNo,t.bankCardGid=a.cardGid,t.showCar=!1}}},[e("van-radio",{attrs:{slot:"right-icon",name:a.bankName+"-"+a.cardNo},on:{click:function(e){t.bankCardGid=a.cardGid}},slot:"right-icon"})],1)})),1)],1)],1),e("van-dialog",{attrs:{confirmButtonText:t.$t("cn-434"),cancelButtonText:t.$t("cn-1051"),title:t.contractTitle},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[e("div",{staticClass:"contract-model",attrs:{id:"contractBody"}},[(t.showContractType,e("p"))])])],1)},i=[],c=(e("b0c0"),e("acd8"),e("ac1f"),e("5319"),e("2fa7")),s=(e("b342"),e("ad06")),l=(e("87d0"),e("e41f")),r=(e("608d"),e("9f14")),u=(e("01bb"),e("e27c")),d=(e("9eda"),e("565f")),m=(e("c625"),e("b650")),h=(e("3ec1"),e("7744")),f=(e("2a53"),e("34e9")),p=(e("47e2"),e("2241")),b=(e("9753"),e("417e")),v=(e("6370"),e("3acc")),$=e("a474"),C=(o={},Object(c["a"])(o,v["a"].name,v["a"]),Object(c["a"])(o,b["a"].name,b["a"]),Object(c["a"])(o,p["a"].Component.name,p["a"].Component),Object(c["a"])(o,f["a"].name,f["a"]),Object(c["a"])(o,h["a"].name,h["a"]),Object(c["a"])(o,m["a"].name,m["a"]),Object(c["a"])(o,d["a"].name,d["a"]),Object(c["a"])(o,u["a"].name,u["a"]),Object(c["a"])(o,r["a"].name,r["a"]),Object(c["a"])(o,l["a"].name,l["a"]),Object(c["a"])(o,s["a"].name,s["a"]),o),k={name:"Loan",components:C,props:{},data:function(){return{loanAmount:"",loanDay:this.$t("cn-1053"),carName:this.$t("cn-1042"),isReadContract:!0,showContractType:"",contractTitle:"",show:!1,showSel:!1,isSubmit:!1,showCar:!1,productCode:"P001",bankCardList:[],bankCardGid:"",fee:"0",dueTime:"",leftAmount:"0",leftQuota:"0",totalQuota:""}},computed:{},watch:{productCode:function(){var t=this;if(this.$isNullOrEmpty(this.loanAmount)||!this.$isNumber(this.loanAmount))return this.dueTime="- - ",this.leftAmount="0",void(this.fee="0");var a=parseFloat(this.loanAmount);if(a%1e4!==0||a<5e4||a>1e7)return this.dueTime="- - ",this.leftAmount="0",void(this.fee="0");Object($["m"])({userGid:localStorage.getItem("userGid"),loanAmount:this.loanAmount,productCode:this.productCode}).then((function(a){if("0000"===a.code){var e=a.data;t.dueTime=e.dueTime,t.leftAmount=e.leftAmount,t.fee=e.fee}else t.$toast(a.message)})).catch((function(){t.$toast(t.$t("cn-1044"))}))}},created:function(){var t=this;Object($["u"])({userGid:localStorage.getItem("userGid")}).then((function(a){if("0000"===a.code){var e=a.data;e.bankCardList&&e.bankCardList.length>0?(t.totalQuota=e.quotaInfo.totalQuota,t.leftQuota=e.quotaInfo.leftQuota,t.$nextTick((function(){t.loanAmount=(e.productInfo.leftAmount||"0").replace(/,/g,""),t.dueTime=e.productInfo.dueTime||"- - ",t.leftAmount=e.productInfo.leftAmount||"0",t.fee=e.productInfo.fee||"0"})),t.bankCardList=e.bankCardList,t.productCode=e.productInfo.productCode):p["a"].alert({cancelButtonText:t.$t("cn-1051"),confirmButtonText:t.$t("cn-1036"),title:t.$t("cn-1034"),message:t.$t("cn-1035")}).then((function(){t.$router.push("/addBank")}))}else t.$toast(a.message)})).catch((function(){t.$toast(t.$t("cn-1044"))}))},mounted:function(){},destroyed:function(){},methods:{showContract:function(t,a){this.showContractType=t,this.contractTitle=a,this.show=!0,this.$nextTick((function(){document.getElementById("contractBody").scrollTo(0,0)}))},submitHandle:function(){var t=this;if(!this.isSubmit){if(this.isSubmit=!0,!this.isReadContract)return this.$toast(this.$t("cn-1040")),void(this.isSubmit=!1);if(this.$isNullOrEmpty(this.loanAmount)||!this.$isNumber(this.loanAmount))return this.$toast(this.$t("cn-1037")),void(this.isSubmit=!1);var a=parseFloat(this.loanAmount);return a%1e4!==0||a<5e4||a>1e7?(this.$toast(this.$t("cn-1039")),void(this.isSubmit=!1)):this.$isNullOrEmpty(this.productCode)?(this.$toast(this.$t("cn-1041")),void(this.isSubmit=!1)):this.$isNullOrEmpty(this.bankCardGid)?(this.$toast(this.$t("cn-1042")),void(this.isSubmit=!1)):void Object($["l"])({userGid:localStorage.getItem("userGid"),loanAmount:this.loanAmount,productCode:this.productCode,cardGid:this.bankCardGid}).then((function(a){if("0000"===a.code){var e=a.data;t.$router.replace({path:"/loanResult",query:{orderId:e.orderId}})}else t.$toast(a.message),t.isSubmit=!1})).catch((function(){t.$toast(t.$t("cn-1044")),t.isSubmit=!1}))}},amountHandle:function(){var t=this;if(this.$isNullOrEmpty(this.loanAmount)||!this.$isNumber(this.loanAmount))return this.$toast(this.$t("cn-1037")),this.dueTime="- - ",this.leftAmount="0",void(this.fee="0");var a=parseFloat(this.loanAmount);if(a%1e4!==0||a<5e4||a>1e7)return this.$toast(this.$t("cn-1039")),this.dueTime="- - ",this.leftAmount="0",void(this.fee="0");Object($["m"])({userGid:localStorage.getItem("userGid"),loanAmount:this.loanAmount,productCode:this.productCode}).then((function(a){if("0000"===a.code){var e=a.data;t.dueTime=e.dueTime,t.leftAmount=e.leftAmount,t.fee=e.fee}else t.$toast(a.message)})).catch((function(){t.$toast(t.$t("cn-1044"))}))}}},g=k,A=(e("9384"),e("ee7d"),e("2877")),w=Object(A["a"])(g,n,i,!1,null,"40ddc6e8",null);a["default"]=w.exports},"6a46":function(t,a,e){},9384:function(t,a,e){"use strict";var o=e("c304"),n=e.n(o);n.a},c304:function(t,a,e){},ee7d:function(t,a,e){"use strict";var o=e("6a46"),n=e.n(o);n.a}}]);