(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["LoanConfirm"],{"3b99":function(t,a,e){"use strict";var n=e("bf9d"),o=e.n(n);o.a},a8f9:function(t,a,e){"use strict";e.r(a);var n,o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("page-head",{attrs:{titleKey:"loanConfirmTitle",fixed:!0}}),e("div",{staticClass:"confirm-title"},[e("b",[t._v(t._s(t.$t("home-unit"))+t._s(t.$formatMoney(t.loanAmount)))]),e("span",[t._v(t._s(t.$t("cn-346")))])]),e("van-cell-group",{staticClass:"confirm-body"},[e("van-cell",{attrs:{title:t.$t("cn-332"),value:t.loanAmount,"is-link":"","arrow-direction":t.showDetail?"down":""},on:{click:function(a){t.showDetail=!t.showDetail}}}),e("van-cell",{directives:[{name:"show",rawName:"v-show",value:t.showDetail,expression:"showDetail"}],staticClass:"load-detail"},[e("van-cell-group",{staticClass:"load-detail-body"},[e("van-cell",{attrs:{title:t.$t("cn-300"),value:t.fee}},[e("van-icon",{attrs:{slot:"right-icon",name:"question-o"},on:{click:function(a){return t.showDialog(1)}},slot:"right-icon"})],1),e("van-cell",{attrs:{title:t.$t("cn-301"),value:t.loanAmount}})],1)],1),e("van-cell",{attrs:{title:"借款天数",value:t.loanDay}}),e("van-cell",{attrs:{title:"还款日期",value:t.dueTime}}),e("van-cell",{attrs:{title:"收款银行",value:t.carName}})],1),e("div",{staticClass:"loan-contract"},[e("van-checkbox",{attrs:{shape:"square"},model:{value:t.isReadContract,callback:function(a){t.isReadContract=a},expression:"isReadContract"}}),t._v(" "+t._s(t.$t("cn-305"))+" "),e("b",{on:{click:function(a){t.showContract(1,t.$t("cn-306"))}}},[t._v("《"+t._s(t.$t("cn-306"))+"》")])],1),e("van-button",{staticClass:"reg-submit",attrs:{type:"info"},on:{click:t.submitHandle}},[t._v(t._s(t.$t("cn-307")))]),e("van-dialog",{attrs:{confirmButtonText:t.$t("cn-434"),cancelButtonText:t.$t("cn-1051"),title:t.contractTitle},model:{value:t.show,callback:function(a){t.show=a},expression:"show"}},[e("div",{staticClass:"contract-model",attrs:{id:"contractBody"}},[(t.showContractType,e("p"))])])],1)},i=[],s=(e("b0c0"),e("acd8"),e("ac1f"),e("5319"),e("2fa7")),c=(e("b342"),e("ad06")),l=(e("9eda"),e("565f")),r=(e("2a53"),e("34e9")),u=(e("3ec1"),e("7744")),d=(e("c625"),e("b650")),h=(e("47e2"),e("2241")),m=(e("6370"),e("3acc")),f=(e("9753"),e("417e")),v=e("a474"),b=(n={},Object(s["a"])(n,f["a"].name,f["a"]),Object(s["a"])(n,m["a"].name,m["a"]),Object(s["a"])(n,h["a"].Component.name,h["a"].Component),Object(s["a"])(n,d["a"].name,d["a"]),Object(s["a"])(n,u["a"].name,u["a"]),Object(s["a"])(n,r["a"].name,r["a"]),Object(s["a"])(n,l["a"].name,l["a"]),Object(s["a"])(n,c["a"].name,c["a"]),n),p={name:"LoanConfirm",components:b,props:{},data:function(){return{showContractType:"",contractTitle:"",show:!1,loanAmount:"",loanDay:"",carName:"",productCode:"",bankCardGid:"",fee:"",dueTime:"",leftAmount:"",isSubmit:!1,showDetail:!1,isReadContract:!0}},computed:{},watch:{},created:function(){var t=sessionStorage.getItem("loanData"),a={};try{a=JSON.parse(t)}catch(e){return void this.$toast("借款数据异常，请重新提交")}this.loanAmount=a.loanAmount,this.loanDay=a.loanDay,this.carName=a.carName,this.productCode=a.productCode,this.bankCardGid=a.bankCardGid,this.fee=a.fee,this.dueTime=a.dueTime,this.leftAmount=a.leftAmount},mounted:function(){},destroyed:function(){},methods:{showContract:function(t,a){this.showContractType=t,this.contractTitle=a,this.show=!0,this.$nextTick((function(){document.getElementById("contractBody").scrollTo(0,0)}))},submitHandle:function(){var t=this;if(!this.isSubmit){if(this.isSubmit=!0,!this.isReadContract)return this.$toast("同意借款协议后方可借款"),void(this.isSubmit=!1);if(this.$isNullOrEmpty(this.loanAmount)||!this.$isNumber(this.loanAmount))return this.$toast("请输入借款金额"),void(this.isSubmit=!1);var a=parseFloat(this.loanAmount);return a%1e4!==0||a<5e4||a>1e7?(this.$toast("借款金额需大于 50000 小于 10000000 并且为 10000 的整数倍"),void(this.isSubmit=!1)):this.$isNullOrEmpty(this.productCode)?(this.$toast("请选择借款期限"),void(this.isSubmit=!1)):this.$isNullOrEmpty(this.bankCardGid)?(this.$toast("请选择收款账号"),void(this.isSubmit=!1)):void Object(v["l"])({userGid:localStorage.getItem("userGid"),loanAmount:this.loanAmount,productCode:this.productCode,cardGid:this.bankCardGid}).then((function(a){if("0000"===a.code){var e=a.data;t.$router.replace({path:"/loanResult",query:{orderId:e.orderId}})}else t.$toast(a.message),t.isSubmit=!1}))}},showDialog:function(t){h["a"].alert({confirmButtonText:this.$t("cn-434"),cancelButtonText:this.$t("cn-1051"),title:"Paglalarawan ng gastos",message:"Ang gastos sa interes ay kinakalkula sa "}).then((function(){}))}}},C=p,w=(e("3b99"),e("2877")),$=Object(w["a"])(C,o,i,!1,null,"67e88eca",null);a["default"]=$.exports},bf9d:function(t,a,e){}}]);